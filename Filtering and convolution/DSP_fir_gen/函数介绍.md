```c

DSP_fir_gen(
       const float* x,      //输入数组
	   const float* h,  //系数数组
  	   float* r,	    //输出数组
 	   int nh,	    //系数数组长度
	   int nr	    //输出数组长度
	)
```
**函数介绍**：Q15格式的fir滤波器，
**计算**：r(n) = h(0)*x(n) + h(1)*x(n−1) + ... + h(nh−1)*x(n−nh+1)   where n = {0, 1, ... , nr−1}
**说明**：Ti中初始化x时前（nh-1）为0，表示计算公式中x的负数索引

**参数要求**：

 * nh、nr无特殊要求

**函数性能：**（单位：cycle）

|     规模     | TI优化 | FT向量C | FT线性汇编 | FT汇编 |
| :----------: | :----: | :-----: | :--------: | :----: |
|  NX=4、NH=4  |   60   |   100   |            |        |
| NX=4、NH=16  |   66   |   204   |            |        |
| NX=32、NH=4  |  178   |   106   |            |        |
| NX=32、NH=16 |  198   |   223   |            |        |
| NX=48、NH=4  |  240   |   115   |            |        |
| NX=48、NH=16 |  270   |   247   |            |        |
| NX=52、NH=4  |  267   |   117   |            |        |
| NX=52、NH=16 |  303   |   256   |            |        |
| NX=64、NH=16 |  342   |   268   |            |        |

* TI：natC为原始C，optC为TI优化C 

  ![image-20210412162640362](./image/image-20210412162640362.png)

* FT-M7002

  vector版本：VC1，vc2分别对应为vector_c目录下的verson1.c和verson2.c
  



  手工汇编版本：
